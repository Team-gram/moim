{"version":3,"file":"js/202.e5062c3a.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,IAAK,oBAAmBJ,EAAIK,MAAMC,KAAKC,YAAY,aAAaC,MAAM,CAC3I,UAAWR,EAAIS,OACfC,SAAUV,EAAIU,SAAW,EACzB,aAAcV,EAAIW,MAAQ,EAC1BC,aAAcZ,EAAIY,WAClB,mBAAoBZ,EAAIK,MAAMQ,UAAY,GAC1C,oBACKb,EAAIK,MAAMQ,SAAW,IAAMb,EAAIK,MAAMQ,SAAW,IAAOb,EAAIU,SAAW,GAC7EI,MAAQ,eACFd,EAAIa,6BACAb,EAAIe,gCACLf,EAAIgB,yBACVhB,EAAIiB,gBACVC,GAAG,CAAC,MAAQ,SAASC,GAAQnB,EAAIY,YAAa,CAAI,EAAE,WAAa,SAASO,GAAQnB,EAAIY,YAAa,CAAK,IAAI,CAAiB,aAAfZ,EAAIoB,QAAwC,oBAAfpB,EAAIoB,OAA8BlB,EAAG,gBAAgB,CAACmB,MAAM,CAAC,aAAarB,EAAIsB,YAAY,KAAO,iBAAiB,KAAO,MAAMpB,EAAG,gBAAgB,CAACmB,MAAM,CAAC,KAAO,gBAAgB,aAAarB,EAAIsB,YAAY,KAAO,MAAsB,oBAAftB,EAAIoB,OAA8BlB,EAAG,MAAM,CAACK,YAAY,iBAAiB,CAACL,EAAG,gBAAgB,CAACmB,MAAM,CAAC,KAAO,mBAAmB,KAAO,GAAG,aAAarB,EAAIsB,gBAAgB,GAAGtB,EAAIuB,MAAM,EACjiB,EACIC,EAAkB,G,UCkCtB,GACAC,MAAAA,CAAAA,QAAAA,QAAAA,QAAAA,YACAC,UAAAA,EACAC,OAAAA,CAAAA,oBACAC,KAAAA,KAAAA,CACAhB,YAAAA,EACAiB,SAAAA,IAEAC,SAAAA,CACArB,SACA,yCACA,wCACA,EACAM,cACA,+CACA,cACA,EACAC,cACA,mDACA,GADA,iBAEA,EACAC,aACA,qCACA,qCACA,KACA,EACAJ,WACA,sBACA,2CAEA,sCACA,EACAO,SACA,kDACA,EACAE,cACA,UAAAS,EAAAA,IAAAC,EAAAA,KAAAJ,EAAAA,GAAAtB,EAAAA,IAAA2B,GAAA,WACA,GACAC,YAAAA,EAAAA,EAAAA,IAAAA,EAAAA,OACAC,UAAAA,EAAAA,EAAAA,IAAAA,EAAAA,OACAC,YAAAA,EACAH,MACAL,QAEA,QACA,EACAS,YACA,6BACA,eACA,EACAC,kBACA,eACA,ICrG8P,I,UCQ1PC,GAAY,OACd,EACAxC,EACAyB,GACA,EACA,KACA,KACA,MAIF,EAAee,EAAiB,O","sources":["webpack://gramvue2/./src/lib-components/kalendar-event.vue","webpack://gramvue2/src/lib-components/kalendar-event.vue","webpack://gramvue2/./src/lib-components/kalendar-event.vue?07e5","webpack://gramvue2/./src/lib-components/kalendar-event.vue?7f71"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:`kalendarEventRef-${_vm.event.id}`,staticClass:\"event-card\",class:{\n        'is-past': _vm.isPast,\n        overlaps: _vm.overlaps > 0,\n        'two-in-one': _vm.total > 1,\n        inspecting: !!_vm.inspecting,\n        'event-card__mini': _vm.event.distance <= 10,\n        'event-card__small':\n            (_vm.event.distance > 10 && _vm.event.distance < 40) || _vm.overlaps > 1,\n    },style:(`\n  height: ${_vm.distance}; \n  width: calc(${_vm.width_value}); \n  left: calc(${_vm.left_offset});\n  top: ${_vm.top_offset};\n`),on:{\"click\":function($event){_vm.inspecting = true},\"mouseleave\":function($event){_vm.inspecting = false}}},[(_vm.status === 'creating' || _vm.status === 'popup-initiated')?_c('portal-target',{attrs:{\"slot-props\":_vm.information,\"name\":\"event-creation\",\"slim\":\"\"}}):_c('portal-target',{attrs:{\"name\":\"event-details\",\"slot-props\":_vm.information,\"slim\":\"\"}}),(_vm.status === 'popup-initiated')?_c('div',{staticClass:\"popup-wrapper\"},[_c('portal-target',{attrs:{\"name\":\"event-popup-form\",\"slim\":\"\",\"slot-props\":_vm.information}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        class=\"event-card\"\n        :ref=\"`kalendarEventRef-${event.id}`\"\n        :style=\"\n            `\n      height: ${distance}; \n      width: calc(${width_value}); \n      left: calc(${left_offset});\n      top: ${top_offset};\n    `\n        \"\n        @click=\"inspecting = true\"\n        @mouseleave=\"inspecting = false\"\n        :class=\"{\n            'is-past': isPast,\n            overlaps: overlaps > 0,\n            'two-in-one': total > 1,\n            inspecting: !!inspecting,\n            'event-card__mini': event.distance <= 10,\n            'event-card__small':\n                (event.distance > 10 && event.distance < 40) || overlaps > 1,\n        }\"\n    >\n        <portal-target\n            v-if=\"status === 'creating' || status === 'popup-initiated'\"\n            :slot-props=\"information\"\n            name=\"event-creation\"\n            slim\n        />\n        <portal-target\n            v-else\n            name=\"event-details\"\n            :slot-props=\"information\"\n            slim\n        />\n        <div v-if=\"status === 'popup-initiated'\" class=\"popup-wrapper\">\n            <portal-target\n                name=\"event-popup-form\"\n                slim\n                :slot-props=\"information\"\n            />\n        </div>\n    </div>\n</template>\n<script>\n/* eslint-disable */\nimport { isBefore, getLocaleTime, addTimezoneInfo } from './utils.js';\n\nexport default {\n    props: ['event', 'total', 'index', 'overlaps'],\n    created() {},\n    inject: ['kalendar_options'],\n    data: () => ({\n        inspecting: false,\n        editing: false,\n    }),\n    computed: {\n        isPast() {\n            let now = getLocaleTime(new Date().toISOString());\n            return isBefore(this.event.start.value, now);\n        },\n        width_value() {\n            return `${100 / this.total}% - ${(this.overlaps * 50) /\n                this.total}px`;\n        },\n        left_offset() {\n            return `(${this.index} * (${this.width_value})) + ${this.overlaps *\n                50}px`;\n        },\n        top_offset() {\n            return this.event.start.round_offset\n                ? `${this.event.start.round_offset}px`\n                : `0px`;\n        },\n        distance() {\n            if (!this.event) return;\n            let multiplier = this.kalendar_options.cell_height / 10;\n            // 0.5 * multiplier for an offset so next cell is easily selected\n            return `${this.event.distance * multiplier - 0.2 * multiplier}px`;\n        },\n        status() {\n            return (this.event && this.event.status) || this.editing;\n        },\n        information() {\n            let { start, end, data, id, key } = this.event;\n            let payload = {\n                start_time: addTimezoneInfo(start.value),\n                end_time: addTimezoneInfo(end.value),\n                kalendar_id: id,\n                key,\n                data,\n            };\n            return payload;\n        },\n        editEvent() {\n            this.$kalendar.closePopups();\n            this.editing = true;\n        },\n        closeEventPopup() {\n            this.editing = false;\n        },\n    },\n};\n</script>\n<style lang=\"scss\">\n$creator-bg: #34aadc;\n$creator-content: white;\n\n.event-card {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n\n    h4,\n    p,\n    span {\n        margin: 0px;\n    }\n\n    > * {\n        flex: 1;\n        position: relative;\n    }\n\n    &.creating {\n        z-index: -1;\n    }\n\n    &.overlaps > * {\n        border: solid 1px white !important;\n    }\n\n    &.inspecting {\n        z-index: 11 !important;\n\n        .created-event {\n            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                0 3px 5px -1px rgba(0, 0, 0, 0.2);\n            transition: opacity 100ms linear;\n        }\n    }\n\n    &__mini {\n        .created-event > .details-card > * {\n            display: none;\n        }\n\n        .appointment-title,\n        .time {\n            display: block !important;\n            position: absolute;\n            top: 0;\n            font-size: 9px;\n            z-index: 1;\n            overflow: visible;\n            height: 100%;\n        }\n    }\n\n    &__small {\n        .appointment-title {\n            font-size: 80%;\n        }\n\n        .time {\n            font-size: 70%;\n        }\n    }\n\n    &.two-in-one .details-card > * {\n        font-size: 60%;\n    }\n\n    position: absolute;\n    pointer-events: none;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0; //z-index: 20!important;\n    //background-color: rgba($creator-bg, .85);\n    color: $creator-content;\n    user-select: none;\n    will-change: height; //padding: 4px 6px;\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6,\n    p {\n        margin: 0px;\n    }\n}\n\n.time {\n    position: absolute;\n    bottom: 0px;\n    right: 0px;\n    font-size: 11px;\n}\n\n.popup-wrapper {\n    text-shadow: none;\n    color: black;\n    z-index: 10;\n    position: absolute;\n    top: 0;\n    left: calc(100% + 5px);\n    display: flex;\n    flex-direction: column;\n    pointer-events: all;\n    user-select: none;\n    background-color: white;\n    border: solid 1px rgba(black, 0.08);\n    border-radius: 4px;\n    box-shadow: 0px 2px 12px -3px rgba(black, 0.3);\n    padding: 10px;\n\n    h4 {\n        color: black;\n        font-weight: 400;\n    }\n\n    input,\n    textarea {\n        border: none;\n        background-color: darken(white, 8);\n        color: lighten(black, 1);\n        border-radius: 4px;\n        padding: 5px 8px;\n        margin-bottom: 5px;\n    }\n}\n\n.created-event {\n    pointer-events: all;\n    position: relative;\n\n    > .details-card {\n        max-width: 100%;\n        width: 100%;\n        overflow: hidden;\n        position: relative;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n\n        > h1,\n        h2,\n        h3,\n        h4,\n        p,\n        small,\n        strong,\n        span {\n            text-overflow: ellipsis;\n            overflow: hidden;\n            display: block;\n        }\n    }\n}\n\nul:last-child .popup-wrapper {\n    left: auto;\n    right: 100%;\n    margin-right: 10px;\n}\n\n.day-view ul .popup-wrapper {\n    left: auto;\n    right: auto;\n    width: calc(100% - 10px);\n    top: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kalendar-event.vue?vue&type=template&id=0cd727c9&\"\nimport script from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nexport * from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nimport style0 from \"./kalendar-event.vue?vue&type=style&index=0&id=0cd727c9&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","event","id","staticClass","class","isPast","overlaps","total","inspecting","distance","style","width_value","left_offset","top_offset","on","$event","status","attrs","information","_e","staticRenderFns","props","created","inject","data","editing","computed","start","end","key","start_time","end_time","kalendar_id","editEvent","closeEventPopup","component"],"sourceRoot":""}